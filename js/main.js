window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".header__menu-btn"),t=document.querySelector(".header__bottom-contacts"),s=document.querySelector(".header__bottom-inner");function i(){let i=!1,a=!1;window.matchMedia("(max-width: 1080px)").matches&&(i||(i=!0,t.classList.add("hide"),s.classList.remove("container"))),e.addEventListener("click",(()=>{a?(e.classList.remove("open"),t.classList.add("hide","fade"),t.classList.remove("flex"),a=!1):(e.classList.add("open"),t.classList.add("flex","fade"),t.classList.remove("hide"),a=!0)}))}const a=document.querySelectorAll(".tabs__item"),d=document.querySelectorAll(".tabs__content"),o=document.querySelector(".tabs__items");function n(){d.forEach((e=>{e.classList.add("hide","fade"),e.classList.remove("flex")})),a.forEach((e=>{e.classList.remove("tabs__item-active")}))}function c(e=0){d[e].classList.add("flex","fade"),d[e].classList.remove("hide"),a[e].classList.add("tabs__item-active")}function r(){const e=document.querySelectorAll(".offer__item-img");let t=!1;window.matchMedia("(max-width: 610px)").matches&&(t||(t=!0,e.forEach(((e,t)=>{e.setAttribute("src",`./img/png/offer__item-img-mobile--${t+1}.png`)}))))}function l(){let e=!1;if(window.matchMedia("(max-width: 1530px)").matches&&!e){e=!0;new Swiper(".tabs__items",{slidesPerView:2,breakpoints:{1080:{slidesPerView:6},910:{slidesPerView:5},750:{slidesPerView:4.5},600:{slidesPerView:3.5},500:{slidesPerView:3},400:{slidesPerView:2.4}}})}}n(),c(),o.addEventListener("click",(e=>{(e.target&&e.target.classList.contains("tabs__item")||e.target.classList.contains("tabs__item-img")||e.target.classList.contains("tabs__item-title"))&&a.forEach(((t,s)=>{t==e.target&&(n(),c(s)),t.childNodes.forEach((t=>{t==e.target&&(n(),c(s))}))}))}));new Swiper(".reviews-slider",{speed:400,slidesPerView:1.5,loop:!0,centeredSlides:!0,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{620:{slidesPerView:3},435:{slidesPerView:2},385:{slidesPerView:1.75}}});function m(){let e=!1;window.matchMedia("(max-width: 700px)").matches&&(e||(e=!0,document.querySelector(".reviews__button-prev").style.display="none",document.querySelector(".reviews__button-next").style.display="none"))}const u=document.querySelector(".modal"),w=u.querySelector(".modal__textarea");function h(){u.classList.remove("show"),u.classList.add("hide"),document.body.style.overflow=""}function _(e){u.classList.add("show"),u.classList.remove("hide"),w.classList.add(e),document.body.style.overflow="hidden"}function f(){const e=u.querySelector(".modal__title"),t=u.querySelector(".modal__button"),s=document.querySelectorAll("[data-visa]"),i=document.querySelectorAll("[data-tel]"),a=document.querySelectorAll("[data-documents]");s.forEach((t=>{t.addEventListener("click",(()=>{e.innerText="Оставьте заявку,что бы получить визу",_("hide")}))})),i.forEach((s=>{let i=!1;s.addEventListener("click",(()=>{e.innerText="Получите персональную консультацию от сотрудника визового центра",t.innerText="Получить консультацию",t.style.padding="9px 41px",_("hide"),window.matchMedia("(max-width: 700px)").matches&&(i||(i=!0,t.style.padding="9px 26px"))}))})),a.forEach((e=>{e.addEventListener("click",(()=>{_("show")}))})),u.onclick=e=>{e.target!==u&&""!=e.target.getAttribute("data-close")||h()},document.addEventListener("keydown",(e=>{"Escape"===e.code&&u.classList.contains("show")&&h()}))}f(),window.addEventListener("load",(function(){l(),i(),r(),m(),f()})),window.addEventListener("resize",(function(){l(),i(),r(),m(),f()}))}));
